import{_ as n,V as a,W as s,X as t}from"./framework-29a58a7f.js";const e={},p=t(`<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><div class="hint-container info"><p class="hint-container-title">说明</p><p>本章节将介绍水印对象的基本用法。</p></div><div class="hint-container warning"><p class="hint-container-title">特别注意</p><p>水印对象的实现方式为将一张文本图片作为背景图添加到文档中，因此会生成一张对应的 “png” 格式的图片。 其默认保存路径为项目路径，其文件名称为水印组件的 id 值，所以 id 值必须设置，否则将抛出异常信息。 并且框架会自动根据设置的 id 值判断文件是否存在并复用。</p></div><h2 id="创建对象" tabindex="-1"><a class="header-anchor" href="#创建对象" aria-hidden="true">#</a> 创建对象</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">XEasyPdfTemplateWatermark</span> watermark <span class="token operator">=</span> <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Watermark</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法" aria-hidden="true">#</a> 基本用法</h2><div class="hint-container info"><p class="hint-container-title">说明</p><p>创建一个带有水印的空白文档</p></div><h3 id="对象模式-java-代码" tabindex="-1"><a class="header-anchor" href="#对象模式-java-代码" aria-hidden="true">#</a> 对象模式 java 代码</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 定义输出路径</span>
<span class="token class-name">String</span> outputPath <span class="token operator">=</span> <span class="token string">&quot;E:\\\\pdf\\\\test\\\\fo\\\\test.pdf&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 创建文档</span>
<span class="token class-name">XEasyPdfTemplateDocument</span> document <span class="token operator">=</span> <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Document</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建页面（空白页）</span>
<span class="token class-name">XEasyPdfTemplatePage</span> page <span class="token operator">=</span> <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Page</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建多行水印</span>
<span class="token class-name">XEasyPdfTemplateWatermark</span> watermark <span class="token operator">=</span> <span class="token class-name">XEasyPdfTemplateHandler<span class="token punctuation">.</span>Watermark</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印id</span>
        <span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印文本</span>
        <span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;第一行&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;第二行&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印文本字体大小</span>
        <span class="token punctuation">.</span><span class="token function">setFontSize</span><span class="token punctuation">(</span><span class="token string">&quot;30pt&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印图片宽度</span>
        <span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token string">&quot;300pt&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印图片高度</span>
        <span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token string">&quot;200pt&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 设置水印显示宽度</span>
        <span class="token punctuation">.</span><span class="token function">setShowWidth</span><span class="token punctuation">(</span><span class="token string">&quot;200pt&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 开启文件覆盖</span>
        <span class="token punctuation">.</span><span class="token function">enableOverwrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加水印</span>
page<span class="token punctuation">.</span><span class="token function">setBodyWatermark</span><span class="token punctuation">(</span>watermark<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加页面</span>
document<span class="token punctuation">.</span><span class="token function">addPage</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 转换pdf</span>
document<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xsl-fo-模板" tabindex="-1"><a class="header-anchor" href="#xsl-fo-模板" aria-hidden="true">#</a> xsl-fo 模板</h3><div class="hint-container info"><p class="hint-container-title">说明</p><p>对象模式生成的对应 xsl-fo 模板</p></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token comment">&lt;!--根标签--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>root</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>fo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/1999/XSL/Format<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>fox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlgraphics.apache.org/fop/extensions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--页面模板--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>layout-master-set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>simple-page-master</span> <span class="token attr-name">master-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">page-height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>29.7cm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">page-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>21cm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-body</span> <span class="token attr-name">background-image</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url(&#39;/H:/java_workspace/my/x-easypdf/gitee/x-easypdf-fop/./test.png&#39;)<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name"><span class="token namespace">fox:</span>background-image-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200pt<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-before</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-after</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-start</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>region-end</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>simple-page-master</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>layout-master-set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>page-sequence</span> <span class="token attr-name">master-reference</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>flow</span> <span class="token attr-name">flow-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xsl-region-body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fo:</span>block</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>flow</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>page-sequence</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">fo:</span>root</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pdf-文档效果" tabindex="-1"><a class="header-anchor" href="#pdf-文档效果" aria-hidden="true">#</a> pdf 文档效果</h3><figure><img src="https://oscimg.oschina.net/oscnet/up-5486ad47552684f3aeca8d9a5d3424fbd9a.png" alt="生成的pdf文档" tabindex="0" loading="lazy"><figcaption>生成的pdf文档</figcaption></figure><h2 id="可配置项" tabindex="-1"><a class="header-anchor" href="#可配置项" aria-hidden="true">#</a> 可配置项</h2><div class="hint-container tip"><p class="hint-container-title">配置项</p><ul><li>setTempDir：设置临时目录</li><li>setId：设置水印id</li><li>setWidth：设置图像保存宽度</li><li>setHeight：设置图像保存高度</li><li>setShowWidth：设置图像显示宽度</li><li>setShowHeight：设置图像显示高度</li><li>setFontFamily：设置字体名称</li><li>setFontStyle：设置字体样式</li><li>setFontSize：设置字体大小</li><li>setFontColor：设置字体颜色</li><li>setFontAlpha：设置字体透明度</li><li>setPosition：设置背景图片定位</li><li>setHorizontalPosition：设置背景图片水平定位</li><li>setVerticalPosition：设置背景图片垂直定位</li><li>setRepeat：设置背景图片重复</li><li>setRadians：设置旋转弧度</li><li>setText：设置文本列表</li><li>enableOverwrite：开启文件覆盖</li></ul></div><h2 id="可用方法" tabindex="-1"><a class="header-anchor" href="#可用方法" aria-hidden="true">#</a> 可用方法</h2><div class="hint-container tip"><p class="hint-container-title">可用方法</p><ul><li>saveImage：保存水印图像</li></ul></div>`,18),o=[p];function c(l,i){return a(),s("div",null,o)}const k=n(e,[["render",c],["__file","水印对象.html.vue"]]);export{k as default};
